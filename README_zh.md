# 2048 游戏项目

## 项目描述

这是一个用Java Swing实现的经典2048数字拼图游戏。玩家通过键盘方向键或WASD键移动方块，将相同数字的方块合并，目标是达到2048或更高的分数。

## 功能说明

### 核心功能
- **4x4游戏网格**：16个方块位置，支持数字方块的移动和合并
- **方块移动**：支持上下左右四个方向的移动
- **合并机制**：相同数字的方块相邻时会自动合并，数值加倍
- **分数系统**：每次合并都会增加相应分数
- **随机生成**：每次移动后随机在空位置生成新的2或4方块
- **游戏结束检测**：当无法进行任何有效移动时游戏结束

### 用户界面
- **图形界面**：使用Swing组件构建的美观界面
- **背景图片**：包含游戏背景和方块数字图片
- **分数显示**：实时显示当前得分
- **新游戏按钮**：可以随时开始新游戏
- **操作提示**：显示使用箭头键移动的提示

### 控制方式
- **方向键**：↑↓←→ 移动方块
- **WASD键**：W(上) S(下) A(左) D(右) 移动方块
- **鼠标**：点击"新游戏"按钮开始新游戏

## 技术实现

### 架构设计
- **MainGame.java**：程序入口，启动游戏界面
- **GameUI.java**：主界面类，处理用户输入、游戏逻辑和显示
- **Tile.java**：方块类，管理单个方块的状态和显示

### 关键技术
- **Swing GUI框架**：构建图形用户界面
- **事件驱动**：键盘事件监听处理用户输入
- **多线程**：使用线程实现移动动画效果
- **资源管理**：从classpath加载图片资源

## 可能的Bug

### 已知问题
1. **移动逻辑复杂**：move方法的实现较为复杂，可能在边界情况下出现异常移动
2. **合并检测不完善**：added数组防止重复合并，但可能在某些情况下失效
3. **死局检测延迟**：新方块生成后才检测死局，可能导致无效移动
4. **图片资源依赖**：如果Images文件夹中的图片文件缺失，会导致程序崩溃
5. **窗口大小固定**：在高分辨率屏幕上可能显示过小
6. **键盘焦点问题**：窗口失去焦点后无法接收键盘输入

### 潜在风险
- **内存泄漏**：长时间运行可能积累无用对象
- **线程安全**：UI更新和游戏逻辑线程可能存在竞态条件
- **异常处理不足**：缺少完善的异常捕获和处理机制

## 改进意见

### 功能增强
1. **撤销功能**：添加悔棋功能，允许玩家撤销最近几次移动
2. **保存/加载游戏**：支持游戏状态的持久化存储
3. **最高分记录**：记录并显示历史最高分
4. **动画效果**：添加方块移动和合并的平滑动画
5. **音效支持**：添加背景音乐和音效
6. **难度选择**：支持不同大小的网格（如5x5、6x6）

### 用户体验
1. **响应式设计**：适配不同屏幕分辨率
2. **触摸支持**：支持触摸屏设备的滑动操作
3. **主题切换**：提供多种视觉主题选择
4. **操作提示**：更详细的游戏规则说明
5. **统计信息**：显示游戏时长、移动次数等统计数据

### 代码质量
1. **重构代码结构**：将游戏逻辑与UI逻辑分离，使用MVC模式
2. **单元测试**：添加完整的单元测试覆盖
3. **错误处理**：完善异常处理和用户友好的错误提示
4. **性能优化**：优化渲染性能，减少不必要的重绘
5. **代码注释**：添加更详细的代码注释和文档

### 技术升级
1. **现代化GUI框架**：考虑迁移到JavaFX或其他现代GUI框架
2. **配置文件**：支持通过配置文件自定义游戏参数
3. **国际化**：支持多语言界面
4. **网络功能**：添加在线排行榜或多人对战功能

## 运行环境

- **Java版本**：JDK 8 或更高版本
- **依赖库**：仅使用标准Java库，无额外依赖
- **操作系统**：支持Windows、macOS、Linux

## 运行

```bash
java -jar 2048.jar
```

## 许可证

本项目采用MIT许可证，详见LICENSE文件。
